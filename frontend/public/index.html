<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico?v=1.4.0" />
    <link rel="icon" type="image/svg+xml" href="%PUBLIC_URL%/favicon.svg?v=1.4.0" />
    <link rel="icon" type="image/png" sizes="96x96" href="%PUBLIC_URL%/favicon-96x96.png?v=1.4.0" />
    <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/apple-touch-icon.png?v=1.4.0" />
    <link rel="manifest" href="%PUBLIC_URL%/site.webmanifest" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#f44336" />
    
    <!-- SEO Meta Tags -->
    <title>ProKolesa.pro - –®–∏–Ω—ã –∏ –î–∏—Å–∫–∏ | –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–ª–µ—Å</title>
    <meta name="description" content="ProKolesa.pro - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤. –®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç, –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏, –≥–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞. –ü–æ–¥–±–æ—Ä —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤ –¥–ª—è –ª—é–±–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è." />
    <meta name="keywords" content="—à–∏–Ω—ã, –¥–∏—Å–∫–∏, –∫–æ–ª–µ—Å–∞, –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ —à–∏–Ω—ã, –ª–∏—Ç—ã–µ –¥–∏—Å–∫–∏, –∑–∏–º–Ω–∏–µ —à–∏–Ω—ã, –ª–µ—Ç–Ω–∏–µ —à–∏–Ω—ã, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ —à–∏–Ω—ã, –∫—É–ø–∏—Ç—å —à–∏–Ω—ã, –∫—É–ø–∏—Ç—å –¥–∏—Å–∫–∏, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω" />
    <meta name="author" content="ProKolesa.pro" />
    <meta name="robots" content="index, follow" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://prokolesa.pro/" />
    <meta property="og:title" content="ProKolesa.pro - –®–∏–Ω—ã –∏ –î–∏—Å–∫–∏ | –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–ª–µ—Å" />
    <meta property="og:description" content="ProKolesa.pro - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤. –®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç, –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏, –≥–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞." />
    <meta property="og:image" content="https://prokolesa.pro/og-image.png" />
    <meta property="og:site_name" content="ProKolesa.pro" />
    <meta property="og:locale" content="ru_RU" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://prokolesa.pro/" />
    <meta property="twitter:title" content="ProKolesa.pro - –®–∏–Ω—ã –∏ –î–∏—Å–∫–∏" />
    <meta property="twitter:description" content="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤. –®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç, –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏." />
    <meta property="twitter:image" content="https://prokolesa.pro/twitter-image.png" />
    
    <!-- Additional SEO -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="ProKolesa" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-TileColor" content="#f44336" />
    
    <!-- Site Verification & Trust -->
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <meta name="language" content="Russian" />
    <meta name="copyright" content="ProKolesa.pro" />
    <meta name="revisit-after" content="7 days" />
    <meta name="classification" content="business" />
    <meta name="category" content="automotive, ecommerce, tires, wheels" />
    <meta name="coverage" content="worldwide" />
    <meta name="target" content="all" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="MobileOptimized" content="width" />
    
    <!-- Business Information -->
    <meta name="geo.region" content="RU" />
    <meta name="geo.country" content="Russia" />
    <meta name="ICBM" content="55.7558, 37.6176" />
    <meta name="geo.position" content="55.7558;37.6176" />
    
    <!-- Anti-phishing and Security -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self' https:;" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="canonical" href="https://prokolesa.pro/" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Store",
      "name": "ProKolesa.pro",
      "description": "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤",
      "url": "https://prokolesa.pro",
      "telephone": "+7 (XXX) XXX-XX-XX",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "RU",
        "addressLocality": "–†–æ—Å—Å–∏—è"
      }
    }
    </script>
  </head>
  <body>
    <noscript>
      <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h1>ProKolesa.pro</h1>
        <p>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∞–π—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å JavaScript –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</p>
        <p>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —à–∏–Ω –∏ –¥–∏—Å–∫–æ–≤ ProKolesa.pro –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —à–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–ª–µ—Å.</p>
      </div>
    </noscript>
    <script src="%PUBLIC_URL%/simple-scroll-block.js"></script>
    <div id="root"></div>
    
    <!-- Service Worker Registration -->
    <script>
      if ("serviceWorker" in navigator) {
        let refreshing = false;
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Service Worker
        navigator.serviceWorker.addEventListener("message", (event) => {
          const { data } = event;
          
          if (data.type === "SW_UPDATED") {
            console.log("[App] Service Worker updated to:", data.version);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
            if (!refreshing) {
              refreshing = true;
              
              // –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
              const updateBanner = document.createElement('div');
              updateBanner.innerHTML = `
                <div style="
                  position: fixed;
                  top: 0;
                  left: 0;
                  right: 0;
                  background: linear-gradient(135deg, #F72525, #FF6B6B);
                  color: white;
                  padding: 16px;
                  text-align: center;
                  z-index: 10000;
                  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                ">
                  <div style="max-width: 600px; margin: 0 auto;">
                    <div style="font-weight: 600; margin-bottom: 8px;">
                      üöÄ –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è ProKolesa!
                    </div>
                    <div style="font-size: 14px; margin-bottom: 12px; opacity: 0.9;">
                      –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
                    </div>
                    <button onclick="window.location.reload()" style="
                      background: white;
                      color: #F72525;
                      border: none;
                      padding: 8px 20px;
                      border-radius: 20px;
                      font-weight: 600;
                      cursor: pointer;
                      margin-right: 8px;
                      transition: all 0.2s ease;
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                      –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å
                    </button>
                    <button onclick="this.parentElement.parentElement.remove(); refreshing = false;" style="
                      background: transparent;
                      color: white;
                      border: 1px solid rgba(255,255,255,0.3);
                      padding: 8px 16px;
                      border-radius: 20px;
                      font-weight: 500;
                      cursor: pointer;
                      transition: all 0.2s ease;
                    " onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='transparent'">
                      –ü–æ–∑–∂–µ
                    </button>
                  </div>
                </div>
              `;
              document.body.appendChild(updateBanner);
              
              // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–∂–∞–ª "–ü–æ–∑–∂–µ"
              setTimeout(() => {
                if (document.body.contains(updateBanner)) {
                  window.location.reload();
                }
              }, 10000);
            }
          }
        });

        window.addEventListener("load", function() {
          navigator.serviceWorker.register("%PUBLIC_URL%/sw.js")
            .then(function(registration) {
              console.log("[App] SW registered:", registration);
              
              // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
              registration.update();
              
              // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π Service Worker
              registration.addEventListener("updatefound", () => {
                const newWorker = registration.installing;
                console.log("[App] New SW found, installing...");
                
                newWorker.addEventListener("statechange", () => {
                  console.log("[App] SW state changed to:", newWorker.state);
                  
                  if (newWorker.state === "installed") {
                    if (navigator.serviceWorker.controller) {
                      // –ï—Å—Ç—å —Å—Ç–∞—Ä—ã–π SW, –Ω–æ–≤—ã–π –≥–æ—Ç–æ–≤ –∫ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                      console.log("[App] New SW installed, ready to activate");
                    } else {
                      // –ü–µ—Ä–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
                      console.log("[App] SW installed for the first time");
                    }
                  }
                });
              });
            })
            .catch(function(error) {
              console.error("[App] SW registration failed:", error);
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–∫–æ–≥–¥–∞ –Ω–æ–≤—ã–π SW –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è)
        navigator.serviceWorker.addEventListener("controllerchange", () => {
          console.log("[App] SW controller changed");
          if (!refreshing) {
            console.log("[App] Reloading page for new SW");
            window.location.reload();
          }
        });
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SW
        window.swControl = {
          // –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏—é SW
          getVersion: () => {
            return new Promise((resolve) => {
              const messageChannel = new MessageChannel();
              messageChannel.port1.onmessage = (event) => {
                resolve(event.data.version);
              };
              navigator.serviceWorker.controller?.postMessage(
                { type: "GET_VERSION" },
                [messageChannel.port2]
              );
            });
          },
          
          // –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
          clearCache: () => {
            return new Promise((resolve) => {
              const messageChannel = new MessageChannel();
              messageChannel.port1.onmessage = (event) => {
                console.log("[App] Cache cleared");
                resolve();
              };
              navigator.serviceWorker.controller?.postMessage(
                { type: "CLEAR_CACHE" },
                [messageChannel.port2]
              );
            });
          }
        };
      }
    </script>
  </body>
</html>
